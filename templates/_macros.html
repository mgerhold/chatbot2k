{% macro avatar_header(bot_name, title, subtitle) -%}
<header class="header">
  <img class="avatar" src="/static/avatar.png" alt="{{ bot_name|e }} avatar"
       width="96" height="96" loading="eager" decoding="async" fetchpriority="high"/>
  <div class="title-group">
    <h1>{{ title }}</h1>
    {% if subtitle %}<p class="subtitle">{{ subtitle }}</p>{% endif %}
  </div>
</header>
{%- endmacro %}

{% macro commands_table(commands) -%}
<div class="table-container" role="region" aria-labelledby="commands-heading" tabindex="0">
  <table class="commands data-table">
    <caption class="sr-only">List of chatbot commands</caption>
    <thead>
      <tr>
        <th scope="col">Command</th>
        <th scope="col">Description</th>
        <th scope="col">Required Permission Level</th>
      </tr>
    </thead>
    <tbody>
      {% for c in commands %}
      <tr>
        <td class="mono"><code>{{ c.command | e }}</code></td>
        <td>{{ c.description|safe }}</td> {# already sanitized Markup #}
        <td><span class="badge">{{ c.required_permission_level | e }}</span></td>
      </tr>
      {% else %}
      <tr><td colspan="3" class="empty">No commands available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{%- endmacro %}

{% macro dictionary_table(entries) -%}
<div class="table-container" role="region" aria-labelledby="dictionary-heading" tabindex="0">
  <table class="dictionary data-table">
    <caption class="sr-only">Built-in dictionary entries</caption>
    <thead>
      <tr>
        <th scope="col">Word/Abbreviation</th>
        <th scope="col">Explanation/Description</th>
      </tr>
    </thead>
    <tbody>
      {% for entry in entries %}
      <tr>
        <td class="mono"><code>{{ entry.word | e }}</code></td>
        <td>{{ entry.explanation|safe }}</td> {# already sanitized Markup #}
      </tr>
      {% else %}
      <tr><td colspan="2" class="empty">No dictionary entries available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{%- endmacro %}

{% macro constants_table(constants) -%}
<div class="table-container" role="region" aria-labelledby="constants-heading" tabindex="0">
  <table class="constants data-table">
    <caption class="sr-only">Bot constants</caption>
    <thead>
      <tr>
        <th scope="col">Constant Name</th>
        <th scope="col">Value</th>
      </tr>
    </thead>
    <tbody>
      {% for constant in constants %}
      <tr>
        <td class="mono"><code>{{ constant.name | e }}</code></td>
        <td>{{ constant.text | e }}</td>
      </tr>
      {% else %}
      <tr><td colspan="2" class="empty">No constants available.</td></tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{%- endmacro %}
